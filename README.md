# black_house
2017.12.21
之前和群里人跑了一次coc，我当的kp，玩的是《沼泽人》模组，很是欢乐，不过由于第一次做kp还是有点准备不足，有点尬聊团的意味。
用qq跑团，到苹果论坛找了一个骰子娘，在骰子娘罢工的前一天成功结团，可喜可贺。
可能是抛砖引玉，群友表示还想接着跑，于是另一个群友主动来当kp，不过骰子娘已经因为服务器经费问题罢工了。
为此，我找到了一个QQbot的python插件，研究了一下之后自己搭建了一个骰子娘，成功开始了跑团。

2017.12.22
在找到QQbot之前，其实我想的是用Django搭建一个平台来玩coc，不过实在费时费力，自己前端能力又不行，所以应急的用了QQbot。
不过之前的工程还是想开发下去，今天完善了coc6版的人物model，不过职业这块还没想好怎么弄，交互上也似乎有很多问题。

2017.12.24
平安夜开团，唔，怎么说呢，果然还是有些尬，群里有些人并不是跑团老手，时长有些超游，kp也是第一次做，有些细节处理有点不好，不过开心就好了。
平台那边一直没有什么进展，果然coc这种自定义的模组还是有点自由度高的问题，很多突发情况想象不到。
所以今天我准备先把之前买过的《山屋惊魂》这样的有固定规则的游戏试着做出来试试。
其实我买了之后一直也没玩过就是了。。。。

2017.12.25
圣诞节啊，为什么公司楼下的活动是猜字谜。。。。
小黑屋是真的难，本来只是在之前的平台工程里面单独开了个app来编写，结果实际写起来发现问题一堆是一堆的，不得以单独开了一个新的工程给他。
由于自己其实也没实际玩过，所以先从熟悉规则入手，然后就发现里面灵活的东西也是多得一匹，而且很多对人来说很简单的操作要用代码实现也是得绕好大的弯子。
好的，我一度想放弃。不过，最近的确心态比较低落，想做点什么来缓解一下（然后就自己给自己添堵了，难受）
正经的，今天大致做了这么些东西：
·想了想地图版的数据结构实现
·大致设计了一下人物和房间卡的互动
·房间卡44张，今天大约录入了30张，不过房间卡各有各的不同事件，要具体实施起来还是很麻烦的，我本来打算用python的动态绑定方法，然而写起来发现好麻烦！！
我看来得换一个结构了。

2017.12.26
哇，难受，真的想放弃了。
最后还是用写java时面向对象编程，抽取了一个房间卡的超类，然后每一张房间卡写了一个继承类。不过基本属性大致不变昨天录入的数据还是能面前弄一下。
由于每个房间卡一个类了，他们的事件实现起来就相对简单了，不过房间卡涉及到与角色、地图版、事件等的互动，目前还没想到完美的方式，反正之前的互动方式有点问题，某几张卡的事件实现起来有点麻烦。
总而言之，今天把房间卡先勉强实现了，在room_card.py中

2017.12.27
要不要这样啊。。。实在想放弃。
今天开始看物品卡、事件卡、预兆卡，发现里面有太多的改变游戏原本规则的东西存在，哇，这种东西是编程最讨厌的，这意味着之前写好的互动模式应该有所修改了，怎么改。。不知道。
总之今天先把物品卡按着之前房间卡的模式先记录了下来，在item_card.py中，并根据物品卡中的效果，修改了人物对象的方法，虽然如此，物品卡中大多实际效果没有实现。
我觉得，如果就这么一点点的写，不知道哪天我就自动放弃了，所以，我决定把这个放到git上来督促自己，我一定要写出来。
因为，我其实真的就是想和大家一起玩而已。。。。

2017.12.28
先来分析一下，物品卡的类型。
武器类，影响人物的对抗动作时使用的能力值和骰子数目，其中左轮改变了袭击方式。
状态buff类，很简单，持有就加能力，失去就减能力。
特殊能力，这个就很烦了，这个的存在修改了很多游戏规则，比如绳索、钥匙、幸运兔脚、蜡烛。
功能类，一般就是一些回复、攻击，比较容易解决
总之今天就开始从血剑开始实现吧，这个涉及到重新设计人物的袭击动作。

最终还是采用了一个类一个专门的实例来做，这样也方便判断人物是否持有道具或具有buff。
另外，今天看了下FAQ，像塔楼这些地方需要鉴定通过之后才能通过的居然分为了左右两侧，这大大加大了操作难度啊。。。
用户输入也是个问题，总之先定义了一个虚拟类。
大部分物品卡算是做了，接下来就是预兆卡了。
今晚去看《芳华》，恩，又回归一个人看电影的状态。